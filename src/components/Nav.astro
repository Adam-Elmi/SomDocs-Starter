---
import { sections, logo } from "../../somdocs.config.json";
import List from "./List.astro";
import SearchIcon from "../icons/SearchIcon.astro";
import GithubIcon from "../icons/GithubIcon.astro";
import MoonIcon from "../icons/MoonIcon.astro";
import MenuIcon from "../icons/MenuIcon.astro";
import "../styles/somdocs.style.css";
type DefaultSection = {
  name: string;
  url: string;
};

type Props = {
  defaultSections?: DefaultSection[];
};

const {
  defaultSections = [
    { name: "Home", url: "/" },
    { name: "Docs", url: "docs" },
  ],
} = Astro.props as Props;
const { contents } = sections;
const keys = Object.keys(logo);
---

<nav
  class="w-full bg-[#0d121c] p-2 text-white flex justify-between items-center"
>
  <!-- Left Side -->
  <div class="flex items-center gap-5 max-[900px]:w-full max-[900px]:justify-between">
    <!-- Logo and Sections -->
    {
      (
        <a
          id="logo-text"
          href="/"
          class="flex items-center gap-2"
        >
          <img
            id="logo-icon"
            src={logo.icon}
          />
          {logo.text}
        </a>
      )
    }
    <ul class="flex gap-2 max-[900px]:hidden">
      {
        contents && contents.length > 0
          ? contents.map((section: DefaultSection) => (
              <List id="section" url={section.url && section.url}>
                {section.name && section.name}
              </List>
            ))
          : defaultSections.map((default_section) => (
              <List id="section" url={default_section.url}>
                {default_section.name}
              </List>
            ))
      }
    </ul>
    <!-- Menu -->
    <button class="hidden max-[900px]:block text-slate-300 cursor-pointer">
      <MenuIcon width="30" height="30"/>
    </button>
  </div>
  <!-- Right Side -->
  <div class="flex gap-2 items-center max-[900px]:hidden">
    <button
      class="flex gap-2 items-center bg-slate-900 cursor-pointer border-[1.5px] border-slate-800 p-2 rounded-lg text-sm"
    >
      <!-- Search Button -->
      <div class="flex gap-2 items-center">
        <SearchIcon width="16" height="16" />
        Search...
      </div>
      <span class="bg-gray-700 py-1 px-2 rounded-md text-[12px]">Ctrl + K</span>
    </button>
    <!-- Theme & github icon -->
    <div class="flex gap-3 items-center">
      <button class="cursor-pointer">
        <MoonIcon width="20" height="20" />
      </button>
      <a href="">
        <GithubIcon width="20" height="20" />
      </a>
    </div>
  </div>
</nav>
